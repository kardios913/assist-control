(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{243:function(t,e,o){"use strict";o.r(e);var n={name:"TituloFixed",props:{titulo:{type:String,required:!0,default:"Titulo"},tituloSize:{type:String,required:!1,default:"h5"},claseTitulo:{type:String,required:!1,default:"font-weight-bold"},classTituloFixed:{type:String,required:!1,default:"bg-primary p-1 text-center"}}},r=o(28),component=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("div",{class:this.classTituloFixed},[e(this.tituloSize,{tag:"component",class:"mb-0 title-up "+this.claseTitulo},[this._v("\n          "+this._s(this.titulo)+"\n        ")])],1)])],1)],1)}),[],!1,null,null,null);e.default=component.exports},246:function(t,e,o){"use strict";o.r(e);o(64),o(65);var n=o(243),r={id:"",nombre:"",fechaInicio:"",fechaFin:"",encargado:"",lugar:"",aforo:0},l={name:"RegistrarEvento",components:{TituloFixed:n.default},props:{disabled:{type:Boolean,default:!1},act:{type:String,default:"LISTAR"}},data:function(){return{evento:r,action:"LISTAR",listaEvento:[],listaPersonas:[],fields:[{key:"nombre",label:"Evento"},{key:"fechaInicio",label:"Fecha Inicio"},{key:"fechaFin",label:"Fecha Fin"},{key:"lugar",label:"Lugar"}]}},created:function(){this.action=this.act,this.listaEvento=this.$store.getters.getListEvent,this.listaPersonas=this.$store.getters.getListUserInfo,this.listaPersonas.length>0&&this.listaPersonas.forEach((function(p){p.text=p.nombre+" "+p.apellido+" - "+p.documento}))},methods:{validar:function(){return""===this.evento.nombre||(""===this.evento.fechaInicio||(""===this.evento.fechaFin||(""===this.evento.encargado||(""===this.evento.lugar||(this.evento.aforo<=0||this.listaPersonas.length<=0)))))},guardar:function(){if(!this.validar()){this.listaEvento=[];var t=this.$store.getters.getListEvent;this.cargarId(t),t.push(this.evento),this.$store.dispatch("setListEvent",t),this.listaEvento=t,this.evento=r,this.action="LISTAR"}},cargarId:function(t){if(0===t.length)this.evento.id=0;else{var e=t[t.length-1];this.evento.id=e.id+1}}}},c=o(28),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",["LISTAR"===t.action?o("div",[o("titulo-fixed",{attrs:{"class-titulo-fixed":"bg-danger p-1 text-center text-white",titulo:"Eventos"}}),t._v(" "),o("b-card",{staticStyle:{"background-color":"#f0f2f6 !important"}},[t.listaEvento.length>0?o("b-table",{attrs:{striped:"",hover:"",items:t.listaEvento,fields:t.fields}}):o("b-alert",{attrs:{variant:"info",show:""}},[t._v("No se encontraron eventos registrados")]),t._v(" "),o("b-btn",{staticClass:"mt-1 float-right",attrs:{variant:"danger"},on:{click:function(e){t.action="REGISTRAR"}}},[t._v("Registrar")])],1)],1):o("div",[o("titulo-fixed",{attrs:{"class-titulo-fixed":"bg-danger p-1 text-center text-white",titulo:"Registrar Evento"}}),t._v(" "),o("b-card",{staticStyle:{"background-color":"#f0f2f6 !important"}},[o("b-form",[o("b-row",[o("b-col",{attrs:{cols:"12",lg:"6",md:"6"}},[o("b-form-group",{attrs:{id:"input-group-1",label:"Nombre del Evento:","label-for":"input-1"}},[o("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Nombre del Evento",disbled:t.disabled},model:{value:t.evento.nombre,callback:function(e){t.$set(t.evento,"nombre",e)},expression:"evento.nombre"}})],1)],1),t._v(" "),o("b-col",{attrs:{cols:"12",lg:"6",md:"6"}},[o("b-form-group",{attrs:{id:"input-group-2",label:"Fecha Inicio:","label-for":"input-2"}},[o("b-form-input",{attrs:{id:"input-2",type:"date",required:"",placeholder:"Fecha Inicio",disbled:t.disabled},model:{value:t.evento.fechaInicio,callback:function(e){t.$set(t.evento,"fechaInicio",e)},expression:"evento.fechaInicio"}})],1)],1),t._v(" "),o("b-col",{attrs:{cols:"12",lg:"6",md:"6"}},[o("b-form-group",{attrs:{id:"input-group-3",label:"Fecha Fin:","label-for":"input-3"}},[o("b-form-input",{attrs:{id:"input-3",type:"date",required:"",placeholder:"Fecha Fin",disbled:t.disabled},model:{value:t.evento.fechaFin,callback:function(e){t.$set(t.evento,"fechaFin",e)},expression:"evento.fechaFin"}})],1)],1),t._v(" "),o("b-col",{attrs:{cols:"12",lg:"6",md:"6"}},[o("b-form-group",{attrs:{id:"input-group-4",label:"Encargado:","label-for":"input-4"}},[o("b-form-select",{attrs:{id:"input-4",options:t.listaPersonas,required:"",disbled:t.disabled,"value-field":"id","text-field":"text"},model:{value:t.evento.encargado,callback:function(e){t.$set(t.evento,"encargado",e)},expression:"evento.encargado"}})],1)],1),t._v(" "),o("b-col",{attrs:{cols:"12",lg:"6",md:"6"}},[o("b-form-group",{attrs:{id:"input-group-5",label:"Lugar:","label-for":"input-5"}},[o("b-form-input",{attrs:{id:"input-5",type:"text",required:"",placeholder:"Lugar",disbled:t.disabled},model:{value:t.evento.lugar,callback:function(e){t.$set(t.evento,"lugar",e)},expression:"evento.lugar"}})],1)],1),t._v(" "),o("b-col",{attrs:{cols:"12",lg:"6",md:"6"}},[o("b-form-group",{attrs:{id:"input-group-6",label:"Aforo:","label-for":"input-6"}},[o("b-form-input",{attrs:{id:"input-6",type:"number",required:"",placeholder:"Aforo",disbled:t.disabled},model:{value:t.evento.aforo,callback:function(e){t.$set(t.evento,"aforo",e)},expression:"evento.aforo"}})],1)],1),t._v(" "),o("b-col",{attrs:{cols:"12"}},["LISTAR"===t.act?o("b-btn",{staticClass:"float-left",on:{click:function(e){t.action="LISTAR"}}},[t._v("Volver")]):t._e(),t._v(" "),o("b-btn",{staticClass:"float-right",attrs:{variant:"danger"},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1)],1)],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TituloFixed:o(243).default})},249:function(t,e,o){"use strict";o.r(e);var n={name:"RegistroEventoPages",components:{RegistroEvento:o(246).default}},r=o(28),component=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("registrar-evento")],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{RegistrarEvento:o(246).default})}}]);